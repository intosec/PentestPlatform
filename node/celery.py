from __future__ import absolute_import, unicode_literals
from celery import Celery
from celery.signals import celeryd_after_setup

app = Celery('MultiTasks')

app.config_from_object('node.celeryconfig')
app.conf.update(
    result_expires=3600,
    # time_zone='Asia/Shanghai',
    # task_routes={
    #     'proj.tasks.p': {'queue': 'hi'},
    #     'proj.tasks.add': {'queue': 'mid'},
    #     'proj.tasks.mul': {'queue': 'mid'},
    #     'proj.tasks.xsum': {'queue': 'low'},
    # },
)
# Load task modules from all registered Django app configs.
# app.autodiscover_tasks()

if __name__ == '__main__':
    app.start()
